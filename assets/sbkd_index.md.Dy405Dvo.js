import{i as dt,u as Ve,n as ie}from"./chunks/index.Dm8xqicP.js";import{k as _e,d as ne,o as K,c as xe,m as N,O as C,b as le,w as P,J as w,p as r,a as O,t as ee,hF as ft,h as a,y as ht,l as Xe,A as pt,g7 as vt,g2 as mt,U as we,Y as B,hG as gt}from"./chunks/framework.DOGosXv3.js";import{g as wt}from"./chunks/theme.C05tv37q.js";function bt(e){if(!dt)return _e(()=>{});const n=e!==void 0?Ve(e):Ve();return _e(()=>{const{value:o}=n;if(o.length!==0)return o[o.length-1]})}const _t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 192 512"},kt=N("path",{d:"M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z",fill:"currentColor"},null,-1),yt=[kt],xt=ne({name:"CaretLeft",render:function(n,o){return K(),xe("svg",_t,yt)}}),St={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 192 512"},Ct=N("path",{d:"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z",fill:"currentColor"},null,-1),Et=[Ct],Mt=ne({name:"CaretRight",render:function(n,o){return K(),xe("svg",St,Et)}});var Lt=Object.defineProperty,Pt=(e,n,o)=>n in e?Lt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,Ge=(e,n,o)=>(Pt(e,typeof n!="symbol"?n+"":n,o),o),Se=(e,n,o)=>{if(!n.has(e))throw TypeError("Cannot "+o)},E=(e,n,o)=>(Se(e,n,"read from private field"),o?o.call(e):n.get(e)),T=(e,n,o)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,o)},te=(e,n,o,i)=>(Se(e,n,"write to private field"),i?i.call(e,o):n.set(e,o),o),I=(e,n,o)=>(Se(e,n,"access private method"),o),Je=class extends Error{},Ot=class extends Je{constructor(...e){super(...e),this.name="RunningTaskSkippedError"}},It=class extends Je{constructor(...e){super(...e),this.name="PendingTaskSkippedError"}},Wt=class{constructor(e){Ge(this,"buffer"),this.buffer=e}},J,z,A,ce,Q,ae,de,Ce,ue,Ee,ke,Qe,re,ye,Bt=class{constructor(e){T(this,Q),T(this,de),T(this,ue),T(this,ke),T(this,re),Ge(this,"worker"),T(this,J,void 0),T(this,z,[]),T(this,A,null),T(this,ce,{}),te(this,J,e),this.worker=new Worker(e),I(this,Q,ae).call(this)}register(e){return(...n)=>new Promise((o,i)=>I(this,ke,Qe).call(this,{name:e,args:n,transferableIndices:[],resolve:o,reject:i}))}skip(){return I(this,re,ye).call(this)?(this.worker=new Worker(E(this,J)),I(this,Q,ae).call(this),I(this,ue,Ee).call(this),!0):!1}skipAll(){if(!I(this,re,ye).call(this))return!1;for(const{reject:e}of E(this,z))e(new It("Pending task skipped."));return te(this,z,[]),this.worker=new Worker(E(this,J)),I(this,Q,ae).call(this),!0}control(e,n){E(this,ce)[e]=n}};J=new WeakMap;z=new WeakMap;A=new WeakMap;ce=new WeakMap;Q=new WeakSet;ae=function(){this.worker.onmessage=e=>{const{type:n}=e.data;if(n==="control"){const{name:o,args:i}=e.data,h=E(this,ce)[o];h?h(...i):console.warn(`No handler for command ${o}`)}else{const{args:o,transferableIndices:i,resolve:h,reject:d}=E(this,A);if(te(this,A,null),I(this,ue,Ee).call(this),n==="success"){const{result:c,transferables:u}=e.data;u.forEach((p,y)=>{o[i[y]].buffer=p}),h(c)}else{const{name:c,message:u}=e.data.error,p=new Error(u);p.name=c,d(p)}}}};de=new WeakSet;Ce=function(e){const{name:n,args:o,transferableIndices:i}=e,h=[],d=o.map((c,u)=>c&&c.constructor===Wt?(i.push(u),h.push(c.buffer),c.buffer):c);te(this,A,e),this.worker.postMessage({name:n,args:d,transferableIndices:i},h)};ue=new WeakSet;Ee=function(){if(E(this,z).length){const e=E(this,z).shift();I(this,de,Ce).call(this,e)}};ke=new WeakSet;Qe=function(e){E(this,A)?E(this,z).push(e):I(this,de,Ce).call(this,e)};re=new WeakSet;ye=function(){if(!E(this,A))return!1;this.worker.terminate();const{reject:e}=E(this,A);return e(new Ot("Running task skipped.")),te(this,A,null),!0};const Ze=Symbol(),Me=Symbol(),Le=Symbol(),et=Symbol(),tt=Symbol(),nt=Symbol(),ot=Symbol(),st=Symbol(),Pe=Symbol();class Tt{constructor(){const n=new Bt("/worker.js");this.worker=n,this.setIME=n.register("setIME"),this.setOption=n.register("setOption"),this.setPageSize=n.register("setPageSize"),this.process=n.register("process"),this.selectCandidateOnCurrentPage=n.register("selectCandidateOnCurrentPage"),this.resetUserDirectory=n.register("resetUserDirectory")}}const At=bt(),Rt=_e(()=>At.value==="xs"),Nt="#container textarea";function Z(){return document.querySelector(Nt)}const $t=ne({__name:"Menu",props:{disableSwitch:{type:Boolean}},setup(e){const{NButton:n,NButtonGroup:o,NSpace:i,NSelect:h}=ie,d=e,c=C(Ze),u=C(Me),p=[{label:"声笔简码",value:"sbjm"},{label:"声笔拼音",value:"sbpy"},{label:"声笔飞码",value:"sbfm"},{label:"声笔飞单",value:"sbfd"},{label:"声笔飞讯",value:"sbfx"},{label:"声笔小鹤",value:"sbxh"},{label:"声笔自然",value:"sbzr"}],y=C(Le),f=C(et),v=C(Pe),b=C(tt);function M(){Z().focus()}function _(W){M(),u(W)}return(W,S)=>(K(),le(r(i),null,{default:P(()=>[w(r(h),{style:{width:"160px"},value:r(c),options:p,loading:r(y),"onUpdate:value":_,disabled:d.disableSwitch},null,8,["value","loading","disabled"]),w(r(o),{class:"square-group",onClick:M},{default:P(()=>[w(r(n),{secondary:"",onClick:r(v)},{default:P(()=>[O(ee(r(f)?"En":"中"),1)]),_:1},8,["onClick"]),w(r(n),{secondary:"",disabled:r(f),onClick:S[0]||(S[0]=()=>{})},{default:P(()=>[O(ee(r(b)?".":"。"),1)]),_:1},8,["disabled"])]),_:1})]),_:1}))}});var at={exports:{}};(function(e){(function(){var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=typeof window<"u",i=o&&window.mozInnerScreenX!=null;function h(d,c,u){if(!o)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var p=u&&u.debug||!1;if(p){var y=document.querySelector("#input-textarea-caret-position-mirror-div");y&&y.parentNode.removeChild(y)}var f=document.createElement("div");f.id="input-textarea-caret-position-mirror-div",document.body.appendChild(f);var v=f.style,b=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,M=d.nodeName==="INPUT";v.whiteSpace="pre-wrap",M||(v.wordWrap="break-word"),v.position="absolute",p||(v.visibility="hidden"),n.forEach(function(S){M&&S==="lineHeight"?v.lineHeight=b.height:v[S]=b[S]}),i?d.scrollHeight>parseInt(b.height)&&(v.overflowY="scroll"):v.overflow="hidden",f.textContent=d.value.substring(0,c),M&&(f.textContent=f.textContent.replace(/\s/g," "));var _=document.createElement("span");_.textContent=d.value.substring(c)||".",f.appendChild(_);var W={top:_.offsetTop+parseInt(b.borderTopWidth),left:_.offsetLeft+parseInt(b.borderLeftWidth),height:parseInt(b.lineHeight)};return p?_.style.backgroundColor="#aaa":document.body.removeChild(f),W}e.exports=h})()})(at);var Dt=at.exports;const Ut=wt(Dt),zt=ne({__name:"Panel",props:{debugMode:{type:Boolean}},setup(e,{expose:n}){const o=C(nt),i=C(ot),h=C(Le),d=C(st),c=C(Me),u=C(Pe),{NPopover:p,NMenu:y,NText:f,NButton:v,NIcon:b}=ie,M=e,{debugMode:_}=ft(M),W=a(0),S=a(0),$=a(!1),Y=a(!1),q=a(0),m=a(0),g=a(""),x=a(""),j=a(""),fe=a([]),Oe=a(0),Ie=a(!0),We=a(!1),D=a(!1),V=a(!1),Be=a(!1),oe=a(!1);async function rt(t,s){D.value=!0,await F(s),t.target.focus()}const Te={Escape:"Escape",F4:"F4",Backspace:"BackSpace",Delete:"Delete",Tab:"Tab",Enter:"Return",Home:"Home",End:"End",PageUp:"Page_Up",PageDown:"Page_Down",Alt:"Alt_L",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",ArrowLeft:"Left","~":"asciitilde","`":"quoteleft","!":"exclam","@":"at","#":"numbersign",$:"dollar","%":"percent","^":"asciicircum","&":"ampersand","*":"asterisk","(":"parenleft",")":"parenright","-":"minus",_:"underscore","+":"plus","=":"equal","{":"braceleft","[":"bracketleft","}":"braceright","]":"bracketright",":":"colon",";":"semicolon",'"':"quotedbl","'":"apostrophe","|":"bar","\\":"backslash","<":"less",",":"comma",">":"greater",".":"period","?":"question","/":"slash"," ":"space"},it=["`"];function Ae(t){return/^[a-z0-9!"#$%&'()*+,./:;<=>?@[\] ^_`{|}~\\-]$/i.test(t)}function he(t){const s=Z(),{selectionStart:l,selectionEnd:k}=s;i.value=i.value.slice(0,l)+t+i.value.slice(k),we(()=>{s.selectionEnd=l+t.length})}async function Re(t,s){const l=Z();!("updatedSchema"in t)&&t.updatedOptions&&d(t.updatedOptions),t.state===0?(D.value=!1,V.value=!1,Y.value=!1,he(t.committed)):t.state===1?(g.value=t.head,x.value=t.body,j.value=t.tail,Oe.value=t.highlighted,fe.value=t.candidates.map((k,U)=>{var H;let G=`${((H=t.selectLabels)==null?void 0:H[U])||U+1} ${k.text}`;return k.comment&&(G+=" "+k.comment),{label:G,key:U}}),Ie.value=t.page===0,We.value=t.isLastPage,V.value||(V.value=!0,Be.value=!1),we(()=>{document.querySelector(".n-popover").getBoundingClientRect().width>l.getBoundingClientRect().width&&(Be.value=!0)}),t.committed&&he(t.committed)):(D.value=!1,V.value=!1,t.state===2&&t.updatedSchema&&await c(t.updatedSchema.split("/")[0]),t.state===3&&Ae(s)&&he(s)),l.focus()}async function F(t){const s=await o.value.process(t);return Re(s,t)}let pe=!1,X=0,ve=0;ht(i,(t,s)=>{if(pe&&(pe=!1,s.length+1===t.length&&s.substring(0,X)===t.substring(0,X)&&s.substring(ve)===t.substring(ve+1))){const l=Z();i.value=s,we(()=>{D.value=!0,l.selectionEnd=X,F(t[X])})}});function Ne(t){if(_.value||h.value)return;const{code:s,key:l}=t,k=Z();if(l==="Unidentified"){pe=!0,X=k.selectionStart,ve=k.selectionEnd;return}if(l==="Shift"){oe.value=!0;return}oe.value=!1;const U=Ae(l),G=l==="Alt",H=t.getModifierState("Control"),Fe=t.getModifierState("Meta"),He=t.getModifierState("Alt"),me=t.getModifierState("Shift"),Ye=H||Fe||He||me&&!U;if(!D.value&&(document.activeElement!==k||!U&&l!=="F4"||Ye&&!me&&!(H&&it.includes(l))))return;let R;const je=L=>`{${L}}`;if(Ye||!U){if(R=/^[0-9a-z]$/i.test(l)?l:Te[l],R===void 0)return;G&&s==="AltRight"&&(R="Alt_R");const L=[];H&&L.push("Control"),Fe&&L.push("Meta"),He&&!G&&L.push("Alt"),me&&L.push("Shift"),L.push(R),R=je(L.join("+"))}else s.startsWith("Numpad")?R=je(`KP_${s.substring(6)}`):R=l;if(!Y.value){const L=k.getBoundingClientRect(),ge=Ut(k,k.selectionStart);q.value=L.x+ge.left,m.value=Rt.value?8:L.y+ge.top+ge.height-k.scrollTop}D.value=!0,t.preventDefault(),F(R)}function $e(t){if(_.value||h.value)return;const{key:s}=t;s==="Shift"&&oe.value&&u(),oe.value=!1,D.value&&F(`{Release+${Te[s]||s}}`)}async function lt(t){const s=JSON.parse(await o.value.selectCandidateOnCurrentPage(t));return Re(s,"")}function De(t){return t.touches.length===1?t.touches[0]:void 0}function Ue(t,s){W.value=t,S.value=s;const l=document.querySelector(".n-popover");q.value=l.getBoundingClientRect().left,$.value=!0}function ct(t){Ue(t.clientX,t.clientY)}function ut(t){const s=De(t);s&&Ue(s.clientX,s.clientY)}function ze(t,s){$.value&&(Y.value=!0,q.value+=t-W.value,m.value+=s-S.value,W.value=t,S.value=s)}function Ke(t){ze(t.clientX,t.clientY)}function qe(t){const s=De(t);s&&ze(s.clientX,s.clientY)}function se(){$.value=!1}return Xe(()=>{document.addEventListener("keydown",Ne),document.addEventListener("keyup",$e),document.addEventListener("mousemove",Ke),document.addEventListener("touchmove",qe),document.addEventListener("mouseup",se),document.addEventListener("touchend",se)}),pt(()=>{document.removeEventListener("keydown",Ne),document.removeEventListener("keyup",$e),document.removeEventListener("mousemove",Ke),document.removeEventListener("touchmove",qe),document.removeEventListener("mouseup",se),document.removeEventListener("touchend",se)}),n({debug:rt}),(t,s)=>(K(),le(r(p),{show:V.value,"show-arrow":!1,x:q.value,y:m.value,flip:!$.value,placement:"bottom-start",trigger:"manual",style:{cursor:"move"},onMousedown:ct,onTouchstart:ut},{default:P(()=>[w(r(f),{type:"success"},{default:P(()=>[O(ee(g.value),1)]),_:1}),O("  "),w(r(f),{type:"info"},{default:P(()=>[O(ee(x.value),1)]),_:1}),O("  "+ee(j.value)+" ",1),vt(w(r(y),{options:fe.value,mode:"horizontal",value:Oe.value,"onUpdate:value":lt},null,8,["options","value"]),[[mt,fe.value.length]]),w(r(v),{text:"",disabled:Ie.value},{default:P(()=>[w(r(b),{component:r(xt),onClick:s[0]||(s[0]=l=>F("-"))},null,8,["component"])]),_:1},8,["disabled"]),w(r(v),{text:"",disabled:We.value},{default:P(()=>[w(r(b),{component:r(Mt),onClick:s[1]||(s[1]=l=>F("="))},null,8,["component"])]),_:1},8,["disabled"])]),_:1},8,["show","x","y","flip"]))}}),be="ascii_mode",Kt="ascii_punct",qt=ne({__name:"Input",props:{method:{},disableSwitch:{type:Boolean}},setup(e){const{NConfigProvider:n,darkTheme:o}=ie,{NInput:i,NSpace:h}=ie,d=e;function c(m){v.value=m,f.value=m?"":y.value}const u=a(void 0),p=a(""),y=a(d.method??"sbjm"),f=a(""),v=a(!0),b=a(!1),M=a(!1),_={[be]:b,[Kt]:M},S=(m=>async()=>{const g=_[m],x=!g.value;await u.value.setOption(m,x),g.value=x})(be);async function $(m){c(!0);try{await u.value.setIME(m),y.value=m;for(const[g,x]of Object.entries(_)){if(g===be){x.value=!1;continue}await u.value.setOption(g,x.value)}}catch(g){console.error(g)}c(!1)}function Y(m){if(m.length===1){const g=m[0];for(const[x,j]of Object.entries(_)){if(x===g){j.value=!0;return}if(`!${x}`===g){j.value=!1;return}}}}B(Ze,f),B(Me,$),B(Le,v),B(et,b),B(tt,M),B(Pe,S),B(ot,p),B(st,Y),B(nt,u),Xe(async()=>{u.value=new Tt,await $(y.value)});const q=a();return(m,g)=>(K(),le(r(n),{theme:r(o)},{default:P(()=>[(K(),le(gt,null,[w(r(h),{vertical:""},{default:P(()=>[w($t,{"disable-switch":d.disableSwitch},null,8,["disable-switch"]),w(r(i),{id:"container",value:p.value,"onUpdate:value":g[0]||(g[0]=x=>p.value=x),type:"textarea",rows:15},null,8,["value"]),w(zt,{ref_key:"panel",ref:q},null,512)]),_:1})],1024))]),_:1},8,["theme"]))}}),Ft=N("h1",{id:"声笔快打",tabindex:"-1"},[O("声笔快打 "),N("a",{class:"header-anchor",href:"#声笔快打","aria-label":'Permalink to "声笔快打"'},"​")],-1),Ht=N("p",null,[O("「声笔快打」是声笔输入法的在线版，基于 "),N("a",{href:"http://github.com/libreservice/my_rime",target:"_blank",rel:"noreferrer"},"My Rime（梧桐输入法）"),O("实现。您无需安装就可以体验所有的声笔系列码输入方案，包括声笔简码、声笔飞码、声笔飞单、声笔飞讯、声笔自然、声笔小鹤和声笔拼音。")],-1),Yt=N("p",null,[O("为提高访问速度，在线版中的每个方案仅包含六千余字和五万余词，且不包含反查功能。如您希望尝试完整版，欢迎在"),N("a",{href:"https://gitee.com/sbxlm/sbxlm/releases",target:"_blank",rel:"noreferrer"},"发布页"),O("下载。")],-1),Jt=JSON.parse('{"title":"声笔快打","description":"","frontmatter":{"sidebar":false,"editLink":false,"lastUpdated":false},"headers":[],"relativePath":"sbkd/index.md","filePath":"sbkd/index.md"}'),jt={name:"sbkd/index.md"},Qt=Object.assign(jt,{setup(e){return(n,o)=>(K(),xe("div",null,[Ft,Ht,Yt,w(qt)]))}});export{Jt as __pageData,Qt as default};
